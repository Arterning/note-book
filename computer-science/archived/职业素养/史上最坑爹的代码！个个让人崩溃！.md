å²ä¸Šæœ€å‘çˆ¹çš„ä»£ç ï¼ä¸ªä¸ªè®©äººå´©æºƒï¼

Javaåç«¯æŠ€æœ¯  2019-06-13
æœ¬æ–‡æ•´ç†è‡ªï¼šå¼€æºä¸­å›½ | ç äº‘
Java å°±æ˜¯è¿™ä¹ˆä¸€é—¨ç¥å¥‡çš„è¯­è¨€ï¼Œä»»ä½•æ°´å¹³çš„äººéƒ½èƒ½å†™å‡ºå¯ä»¥è¿è¡Œçš„ä»£ç ï¼Œä½†æ˜¯ä¸€çœ‹ä»£ç ä¾¿çŸ¥æ°´å¹³é«˜ä½ã€‚ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œä½ çœ‹è¿‡å“ªäº›å‘çˆ¹ä»£ç ï¼Œä½ åˆå†™è¿‡å¤šå°‘å‘çˆ¹ä»£ç ï¼Œè¿˜æœ‰å¤šå°‘ä½ ä¸çŸ¥é“çš„å‘çˆ¹ä»£ç ï¼Ÿ

æœ‰æ„æ€çš„æ˜¯ç äº‘ä¸Šå»ºäº†ä¸€ä¸ªä»£ç ä»“åº“ï¼šbullshit-codesï¼Œä»“åº“çš„ç›®çš„å°±æ˜¯ä¸ºäº†æ”¶é›†è¿™äº›å‘çˆ¹ä»£ç ï¼Œå¯ä»¥è®©åˆ«äººä¸æ‰å‘æˆ–è€…å°‘æ‰å‘ï¼Œå¯ä»¥é¿å…è‡ªå·±æ‰å‘ï¼Œæˆ–è®¸å“ˆå“ˆä¸€ä¹ï¼

ä¸Šè¾¹æ±‡èšäº†å„ç§ç¼–ç¨‹è¯­è¨€çš„ï¼Œä»“åº“åœ°å€å¦‚ä¸‹ï¼š

https://gitee.com/oschina/bullshit-codes

æœ¬æ–‡å°ç¼–ç»™å¤§å®¶æ•´ç†äº†å‡ ä¸ªæ¯”è¾ƒå‘çˆ¹çš„ä»£ç ï¼Œæ•´ç†äº†å‡ ä¸ªä¹‹åï¼Œå®åœ¨æ•´ç†ä¸ä¸‹å»äº†ï¼Œä»…ä¾›å¤§å®¶å‚è€ƒï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å´©æºƒæ‰ï¼

ä¸€ã€å‡ ä¸ªå‘çˆ¹ä»£ç çš„ç›®å½•

1ã€è¿™æ ·ä½¿ç”¨ StringBuffer çš„æ–¹æ³•æœ‰ä»€ä¹ˆå‘ï¼Ÿ

2ã€ä½ å†™è¿‡çš„æœ€é•¿çš„ä¸€è¡Œä»£ç æœ‰å¤šé•¿ï¼Ÿï¼Ÿï¼Ÿ

3ã€å¾ªç¯+æ¡ä»¶åˆ¤æ–­ï¼Œä½ æœ€å¤šèƒ½åµŒå¥—å‡ å±‚ï¼Ÿ

4ã€ä¸ºäº†åæœŸä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ ~ é¢‡æœ‰å•†ä¸šå¤´è„‘ï¼

5ã€ä½ æ˜¯å¦‚ä½•è¢«å¼‚å¸¸ç©ç„¶åå˜æˆç©å¼‚å¸¸çš„ï¼Ÿ

6ã€Stream ç©å¾—æœ€ 6 çš„ä»£ç ï¼Œçœ‹è¿‡çš„äººéƒ½æƒŠå‘†äº†ï¼

äºŒã€å‘çˆ¹ä»£ç  | è¿™æ ·ä½¿ç”¨ StringBuffer çš„æ–¹æ³•æœ‰ä»€ä¹ˆå‘ï¼Ÿ

ä½ æ˜¯å¦æ›¾ç»è¿™æ ·ä½¿ç”¨è¿‡ Java çš„ StringBuffer ç±»ï¼Ÿ

/**
 * Create Time 2019/5/24
 * StringBufferè¿½åŠ  å¦‚ç—´å¦‚é†‰çš„å†™æ³•
 * @author cailong
 **/
public class Append {
    public static void main(String[] ares){

        StringBuffer sb = new StringBuffer();
        //è¿™é‡Œéƒ½èƒ½ç†è§£
        sb.append("<?xml version=\"1.0\" encoding=\"UTF-8\"?><ROOT>");
        for (int i = 0; i < 10; i++) {
            //ä¸ºä»€ä¹ˆåˆ°è¿™é‡Œå°±è¦è¿™æ ·å†™ï¼Ÿï¼Ÿï¼Ÿæ—¢ç„¶éƒ½ç”¨StringBufferäº†    ï¼ˆè¿™é‡Œçœç•¥é›†åˆéå†ç”¨iä»£æ›¿ æ„æ€èƒ½æ‡‚å°±è¡Œï¼‰
            sb.append("<NSRXX>" +
                    "<NSRSBH>"+i+"</NSRSBH>" +
                    "<NSRMC>"+i+"</NSRMC>" +
                    "<DJXH>"+i+"</DJXH>" +
                    "<ZGSWJ_DM>"+i+"</ZGSWJ_DM>" +
                    "<ZGSWJ_MC>"+i+"</ZGSWJ_MC>" +
                    "<SJLY>sjzs</SJLY>" +
                    "<YWSX_DM>"+i+"</YWSX_DM>" +
                    "</NSRXX>");
        }
        sb.append("</ROOT>");
        System.out.println(sb.toString());
    }
}
ä¸‰ã€å‘çˆ¹ä»£ç  | ä½ å†™è¿‡çš„æœ€é•¿çš„ä¸€è¡Œä»£ç æœ‰å¤šé•¿ï¼Ÿï¼Ÿï¼Ÿ



ä½ å†™è¿‡çš„æœ€é•¿çš„ä¸€è¡Œä»£ç æœ‰å¤šé•¿å—ï¼Ÿä½ ä¸ºä»€ä¹ˆè¦å†™è¿™ä¹ˆé•¿ï¼Ÿæ˜¯çœ‹ç€å¸…å‘¢ï¼Œè¿˜æ˜¯æƒ³å‡å°‘ä»£ç è¡Œæ•°ï¼Ÿ

List<OperationPurchaseInfo> purchaseInfoList
                = sheet.getPurchaseInfoList()
                .stream()
                .filter(purchaseInfo -> purchaseInfo.getExteriorOperation()
                        .getExteriorPart()
                        .getExteriorOperationList()
                        .stream()
                        .filter(exteriorOperation -> exteriorOperation
                                .getProcessState()
                                .equals(ExteriorOperation.ProcessState.PROCESSING))
                        .count() != 0
                        // è®¢å•æ˜ç»†ä¸­å·¥åºå¯¹åº”çš„å·¥ä»¶ä¸‹çš„å…¶ä»–å·¥åºå­˜åœ¨åŠ å·¥ä¸­ï¼Œ
                        // ä¸”å·²å‘ç»™ä¾›åº”å•†ä¸”ä¾›åº”å•†ä¸æ˜¯å½“å‰è®¢å•ä¾›åº”å•†æ—¶ï¼Œéœ€è¦åˆ¤æ–­
                        && (purchaseInfo.getExteriorOperation()
                        .getExteriorPart()
                        .getTeamwork() == null || !purchaseInfo.getExteriorOperation()
                        .getExteriorPart().getTeamwork().equals(sheet.getTeamwork()))
                ).collect(Collectors.toList());
ä¸Šé¢è¿™æ®µä»£ç è™½ç„¶è¢«æ‹†å¼€å¤šè¡Œæ˜¾ç¤ºï¼Œä½†æœ¬è´¨ä¸Šæ˜¯ä¸€è¡Œï¼Œä¸€ä¸ªæå…¶å¤æ‚çš„èµ‹å€¼è¯­å¥ï¼

è¿™ç§ä»£ç æ˜¯ä¸æ˜¯ä¸ºäº†è®©åˆ«äººçœ‹ä¸æ‡‚æ¥å½°æ˜¾è‡ªå·±çš„ç¼–ç æ°´å¹³å‘¢ï¼Ÿ

å°ç¼–è§‰å¾— Java Stream API ä»¥åŠå„ç§å‡½æ•°å¼ç¼–ç¨‹æ–¹æ³•ï¼Œä»¥åŠå„ç§è¯­æ³•ç³–åœ¨æŸç§ç¨‹åº¦è®©è¿™ç§ç³Ÿç³•ä»£ç è¶Šæ¥è¶Šå¤šï¼

é‚£ä¹ˆä¸€èµ·æ¥æ‰¹åˆ¤ä¸€ä¸‹è¿™ä¸ªä»£ç ï¼Œæˆ–è€…ä½ æœ‰ä»€ä¹ˆå¥½çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ

å››ã€å‘çˆ¹ä»£ç  | å¾ªç¯+æ¡ä»¶åˆ¤æ–­ï¼Œä½ æœ€å¤šèƒ½åµŒå¥—å‡ å±‚ï¼Ÿ

for å¾ªç¯å’Œ if æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œå¿…ä¸å¯å°‘å§ã€‚ä½†æ˜¯ä½ è§è¿‡æœ€å¤šåµŒå¥—çš„å¾ªç¯å’Œæ¡ä»¶åˆ¤æ–­æœ‰å‡ å±‚å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä½ æœ€å¤šèƒ½å®¹å¿å¤šå°‘å±‚çš„åµŒå¥—å‘¢ï¼Ÿ



æˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥çœ‹çœ‹æç«¯çš„å‘çˆ¹ä»£ç å§ï¼š

// è¿™ä¸ªæ— é™å¾ªç¯åµŒå¥—ï¼Œåªæ˜¯æ€»å¾ªç¯çš„ä¸€éƒ¨åˆ†ã€‚ã€‚ã€‚æˆ‘å·²ç»ç»•æ™•åœ¨é»„æ¡·æ¹¾ç«‹äº¤
        if (recordList.size() > start) {
            for (int i = start; i < end; i++) {
                Map<String, Object> map = recordList.get(i);
                Map<String, Object> field11 = (Map<String, Object>) map.get("field"); //name -> code
                Map<String, Object> record11 = (Map<String, Object>) map.get("record"); // code -> value
                String catagory1 = map.get("categoryId").toString();
                //  æŸ¥è¯¢ç¬¬ä¸€ç§ç±»å‹å¯¹åº”çš„å…¶ä»–ç±»å‹
                SalaryDataVo ss = JSON.parseObject(JSON.toJSONString(map), SalaryDataVo.class);
                Page page3 = salaryManagerService.getAllRecordsByCondition(ss);
                if (page3.getRecords().size() > 0) {
                    List<Map<String, Object>> salaryDataVos = page3.getRecords();
                    salaryDataVos = this.reSetMap(salaryDataVos, null, null);
                    for (Map<String, Object> map2 : salaryDataVos) {
                        Map<String, Object> field2 = (Map<String, Object>) map2.get("field");
                        Map<String, Object> record2 = (Map<String, Object>) map2.get("record");
                        String catagory2 = map2.get("categoryId").toString();
                        List<SalaryGroupVO> groupList2 = salaryGroupService.getSalaryGroupsItems(this.getUserCorpId(), catagory2);
                        for (SalaryGroupVO cc : groupList2) {
                            cc.setCode(cc.getParentId() + cc.getCode());
                        }
                        //è®¡ç®—
                        for (Map.Entry<String, Object> entity : field2.entrySet()) {
                            String keyName = entity.getKey();
                            for (SalaryGroupVO s2 : groupList2) {
                                if ("bigDecimal".equals(s2.getItemType()) && s2.getCode().equals(field2.get(keyName).toString()) && ("éƒ¨é—¨" != keyName) && ("å§“å" != keyName) && StringUtils.isNotEmpty(s2.getItemType())) {
                                    if (field11.containsKey(keyName)) {
                                        if (field11.containsKey(keyName)) {
                                            String code1 = field11.get(keyName).toString();
                                            Double newValue = 0.0;
                                            Double oldValue = 0.0;
                                            if (!record11.get(code1).toString().matches("^[0-9]*$")) {
                                                oldValue = Double.parseDouble(record11.get(code1).toString());
                                                if (record2.containsKey(entity.getValue().toString()) && (!record2.get(entity.getValue().toString()).toString().matches("^[0-9]*$"))) {
                                                    String value2 = record2.get(entity.getValue().toString()).toString();
                                                    newValue = Double.parseDouble(value2);
                                                }
                                                record11.remove(field11.get(keyName).toString());
                                            }
                                            if (code1.startsWith(catagory1) || code1.startsWith(catagory2)) {
                                                String co = code1.replace(catagory1, "hz");
                                                field11.put(keyName, co);
                                                record11.put(co, oldValue + newValue);
                                            }
                                        }
                                    } else {
                                        String code = entity.getValue().toString();
                                        String str = entity.getValue().toString();
                                        Object value2 = record2.get(entity.getValue().toString());
                                        if (str.startsWith(catagory1) && str.replace(catagory1, "").startsWith("hz")) {
                                            code = str.replace(catagory1, "");
                                        } else if (str.startsWith(catagory2) && str.replace(catagory2, "").startsWith("hz")) {
                                            code = str.replace(catagory2, "");
                                        }
                                        field11.put(keyName, code);
                                        record11.put(code, value2);
                                    }
                                }
                            }
                        }
                    }
                }
                List<SalaryGroupVO> sList = salaryGroupService.getSalaryGroupItemsByParentId(catagory1);
                for (SalaryGroupVO s : sList) {
                    if (field11.containsKey(s.getName()) && s.getCode().startsWith("hz")) {
                        String k = field11.get(s.getName()).toString();

                        field11.put(s.getName(), s.getCode());
                        String value = null;
                        if (record11.containsKey(k)) {
                            value = record11.get(k).toString();
                        }
                        record11.put(s.getCode(), value);
                    }
                }
                resultList.add(map);
                pageInfo.setRecords(resultList);
            }
        }
æˆ‘æ•°äº†æ•°ï¼Œä¸€å…±æœ‰ 11 å±‚çš„åµŒå¥—ï¼ï¼ï¼

åæ§½å½’åæ§½ï¼Œè¿™æ ·çš„ä»£ç é€»è¾‘æœ‰ä»€ä¹ˆé‡æ„çš„å¥½æ–¹æ³•å—ï¼Ÿ

äº”ã€å‘çˆ¹ä»£ç  | ä¸ºäº†åæœŸä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ ~ é¢‡æœ‰å•†ä¸šå¤´è„‘ï¼

ä»€ä¹ˆæ ·çš„ç¨‹åºå‘˜æ˜¯ä¸€ä¸ªå¥½ç¨‹åºå‘˜å‘¢ï¼Ÿå½“æˆ‘ä»¬åœ¨ç»™å®¢æˆ·å¼€å‘ç³»ç»Ÿæ—¶å€™ï¼Œä¸ºäº†åæœŸçš„ä¼˜åŒ–ï¼Œé¢„ç•™ä¸€äº›åŸ‹ç‚¹ã€‚

é€šè¿‡å¯¹è¿™äº›åŸ‹ç‚¹çš„ä¼˜åŒ–ï¼Œå¯ä»¥è®©å®¢æˆ·ç¬é—´æ„Ÿè§‰ç³»ç»Ÿåœ¨è¿è¡Œé€Ÿåº¦ä¸Šæœ‰è´¨çš„é£è·ƒï¼Œè®©å…¬å¸é¡ºåˆ©çš„ç­¾ç½²äºŒæœŸå¼€å‘åˆåŒï¼Œæ”¶å–å·¨é¢å¼€å‘è´¹ç”¨ã€‚

ä»å…¬å¸è§’åº¦æ¥çœ‹ï¼Œè¿™æ ·çš„ç¨‹åºå‘˜å°±æ˜¯ä¸€ä¸ªå¥½ç¨‹åºå‘˜ã€‚ â€”â€” è¿™å¥è¯ä¸æ˜¯çº¢è–¯è¯´çš„ï¼



æ¯”å¦‚ï¼š



æˆ‘æƒ³è¯´çš„æ˜¯ï¼šå‡¶ç¢Ÿï¼Œä½ ä¸‹æ‰‹èƒ½å¦ä¸é‚£ä¹ˆç‹ å•Šï¼Œå»ºè®®å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œæ”¹æˆ Thread.sleep(1000);  â€”â€” è¿™å¥è¯ä¹Ÿä¸æ˜¯çº¢è–¯è¯´çš„ã€‚

æˆ–è€…ä½ æœ‰ä»€ä¹ˆæ›´å¥½çš„å»ºè®®å‘¢ï¼Ÿä¸è¦è§‰å¾—éª‡äººå¬é—»ï¼ŒçœŸæœ‰è¿™æ ·çš„äººï¼Œè¿™æ ·çš„ä»£ç ï¼ï¼ï¼

å…­ã€å‘çˆ¹ä»£ç  | ä½ æ˜¯å¦‚ä½•è¢«å¼‚å¸¸ç©ç„¶åå˜æˆç©å¼‚å¸¸çš„ï¼Ÿ

ç© Java çš„äººï¼Œåˆšå¼€å§‹ä¼šè¢«å„ç§å¼‚å¸¸è™ï¼Œç©ºæŒ‡é’ˆåº”è¯¥æ˜¯æœ€å¸¸è§çš„ã€‚å¤šç©ä¸¤å¹´å°±å¼€å§‹ç©å¼‚å¸¸ï¼Œå„ç§å¥‡è‘©å¼‚å¸¸ç©æ³•å±‚å‡ºä¸ç©·ã€‚

ä½ è§‰å¾—ä¸‹é¢è¿™ç§å¼‚å¸¸çš„å®šä¹‰å¦¥å—ï¼Ÿ

/**
 * å¤„ç†ä¸šåŠ¡çš„å¼‚å¸¸
 * å±…ç„¶æœ‰ä¸€å †é™æ€å¼‚å¸¸ï¼Œå‡†å¤‡å¥½äº†éšæ—¶å¯ä»¥æŠ›ï¼Ÿï¼Ÿ
 * é”™è¯¯ç æ˜¯å­—ç¬¦ä¸²
 */
public class CommandException extends BaseException {

  private static final long serialVersionUID = -6354513454371927970L;

  public static CommandException PARAM_NULL= new CommandException("Command_assemble_01", "Parameter is Needed But Empty");
  public static CommandException DEVID_NULL = new CommandException("Command_assemble_02", "DevId Cannot Be Null");
  public static CommandException MDCODE_NULL = new CommandException("Command_assemble_03", "Model Code Cannot Be Empty");
  public static CommandException ORDER_NULL = new CommandException("Command_assemble_04", "Order Cannot Be Empty");
  public static CommandException TYPE_NULL = new CommandException("Command_assemble_05", "Upstream / Downstream Type Cannot Be Empty");
  public static CommandException MENUID_NULL = new CommandException("Command_assemble_06", "Menu Id Cannot Be Null");
  public static CommandException CTRLTYPE_NOT_RANGE= new CommandException("Command_assemble_07", "Ctrltype Cannot Be Recognized, Which is not in Range");
  public static CommandException CMD_NULL = new CommandException("Command_analyze_01", "CMD Cannot Be Null");
  public static CommandException PAYLOAD_NULL = new CommandException("Command_analyze_02", "Payload Cannot Be Null");
  public static CommandException FRAMEWORK_FAILED= new CommandException("Command_analyze_03", "Framework Failed to be Checked");
  public static CommandException CHECK_FAILED= new CommandException("Command_analyze_04", "Command Failed to be Checked");
  public static CommandException CONFIGURE_NOT_EXIST = new CommandException("Command_error_1001", "Configure is not Exist");
  public static CommandException REDIS_ERROR = new CommandException("Command_error_1002", "Cache Command in Redis Error", true);

  //çœç•¥æ„é€ å‡½æ•°ã€get/setæ–¹æ³•
}
å¦‚æœä¸å¦¥ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ

ä¸ƒã€å‘çˆ¹ä»£ç  | Stream ç©å¾—æœ€ 6 çš„ä»£ç ï¼Œçœ‹è¿‡çš„äººéƒ½æƒŠå‘†äº†ï¼

Stream ä½œä¸º Java 8 çš„ä¸€å¤§äº®ç‚¹ï¼Œå®ƒä¸ java.io åŒ…é‡Œçš„ InputStream å’Œ OutputStream æ˜¯å®Œå…¨ä¸åŒçš„æ¦‚å¿µã€‚Java 8 ä¸­çš„ Stream æ˜¯å¯¹é›†åˆï¼ˆCollectionï¼‰å¯¹è±¡åŠŸèƒ½çš„å¢å¼ºï¼Œå®ƒä¸“æ³¨äºå¯¹é›†åˆå¯¹è±¡è¿›è¡Œå„ç§éå¸¸ä¾¿åˆ©ã€é«˜æ•ˆçš„èšåˆæ“ä½œï¼ˆaggregate operationï¼‰ï¼Œæˆ–è€…å¤§æ‰¹é‡æ•°æ®æ“ä½œ (bulk data operation)ã€‚Stream API å€ŸåŠ©äºåŒæ ·æ–°å‡ºç°çš„ Lambda è¡¨è¾¾å¼ï¼Œæå¤§çš„æé«˜ç¼–ç¨‹æ•ˆç‡å’Œç¨‹åºå¯è¯»æ€§ã€‚



é‚£ä¹ˆ Java 8 çš„ Stream åˆ°åº•æ˜¯ç‹è€…ï¼Œè¿˜æ˜¯ä¸ªå·¨å‘ï¼Œè¿™å®Œå…¨å–å†³äºä½ æ˜¯æ€ä¹ˆç©çš„ï¼Ÿ

æˆ‘ä¸å¾—ä¸è¯´ï¼Œä¸‹é¢ä»£ç æ˜¯æˆ‘ä»ä¸š 20 å¹´ï¼ˆè¯´è°å‘¢ï¼Œè°ä»ä¸š 20 å¹´ï¼Œæˆ‘ä»Šå¹´ 19  å²ï¼ï¼ï¼ï¼‰çœ‹è¿‡æœ€ç‰›é€¼çš„ Stream çš„ç”¨æ³•ï¼š

//Stream ç”¨çš„66çš„
final EventAction eventAction = redisObj(
                EventActionKey + distributionEventId,
                () -> Optional
                        .of(distributionEventId)
                        .map(eventId -> {
                            final EventActionExample example = new EventActionExample();
                            example.createCriteria()
                                    .andEventIdEqualTo(eventId)
                                    .andTriggerTypeEqualTo(EnumEventTriggerType.DISTRIBUTION_PURCHASE.getCode().byteValue());
                            return example;
                        })
                        .map(eventActionMapper::selectByExample)
                        .filter(StringUtil::isNotEmpty)
                        .map(e -> e.get(0)).orElseThrow(() -> ExceptionUtil.createParamException("äº‹ä»¶è§¦å‘ä¿¡æ¯ä¸å­˜åœ¨"))
                , EventAction.class);
        final AwardConfig awardConfig = redisObj(EventConfigKey + eventAction.getId(),
                () -> Optional.ofNullable(eventAction.getId())
                        .map(actionId -> {
                            final AwardConfigExample example = new AwardConfigExample();
                            example.createCriteria()
                                    .andActionIdEqualTo(actionId);
                            return example;
                        })
                        .map(awardConfigMapper::selectByExample)
                        .filter(StringUtil::isNotEmpty)
                        .map(e -> e.get(0)).orElseThrow(() -> ExceptionUtil.createParamException("xxx")),
                AwardConfig.class
        );
        Optional.of(req)
                .map(e -> e.clueUid)
                .map(id -> {
                    final ClueExample example = new ClueExample();
                    example.createCriteria()
                            .andClueUidEqualTo(id)
                            .andDeletedEqualTo(false)
                            .andReceivedEqualTo(false)
                            .andCreateTimeGreaterThan(now - cluetime);
                    example.setOrderByClause("create_time asc");
                    return example;
                })  // è·å–è¯¥è¢«é‚€è¯·äººæ‰€æœ‰æœªè¿‡æœŸä¸”æœªè¢«é¢†å–çš„çº¿ç´¢çš„çº¿ç´¢
                .map(clueMapper::selectByExample)
                .filter(StringUtil::isNotEmpty)
                .ifPresent(clues -> {
                            final ClueResp clueResp = Optional.of(req)
                                    .filter(c -> {
                                        c.count = clues.size();
                                        return true;
                                    })
                                    .map(this::awardValue)
                                    .orElseThrow(() -> ExceptionUtil.createParamException("å‚æ•°é”™è¯¯"));
                            final Integer specialId = req.getIsHead()
                                    ? clues.get(0).getId()
                                    : clues.get(clues.size() - 1).getId();
                            clues.stream()
                                    .peek(clue -> {
                                        final AwardConfig awardConfigclone = Optional.of(awardConfig)
                                                .map(JSONUtil::obj2Json)
                                                .map(json -> JSONUtil.json2Obj(json, AwardConfig.class))
                                                .orElseGet(AwardConfig::new);
                                        awardConfigclone.setMoney(
                                                Optional.of(clue.getId())
                                                        .filter(specialId::equals)
                                                        .map(e -> clueResp.specialReward.longValue())
                                                        .orElse(clueResp.otherAverageReward.longValue())
                                        );
                                        eventActionService.assembleAward(
                                                awardConfigclone,
                                                clue.getAdviserUid(),
                                                clue.getAdviserUid(),
                                                clue.getClueUid(),
                                                eventAction,
                                                new PasMessageParam(),
                                                clue.getId(),
                                                AwardRelationType.Clud.code()
                                        );
                                    })
                                    .forEach(clue -> {
                                        clue.setOrderNo(req.orderNo);
                                        clue.setCommodityName(req.commodityName);
                                        clue.setOrderAmount(req.orderAmount);
                                        clue.setReceived(true);
                                        clue.setModifyTime(now);
                                        clueMapper.updateByPrimaryKeySelective(clue);
                                    });
                        }
                );
Java å°±æ˜¯è¿™ä¹ˆä¸€é—¨ç¥å¥‡çš„è¯­è¨€ï¼Œä»»ä½•æ°´å¹³çš„äººéƒ½èƒ½å†™å‡ºå¯ä»¥è¿è¡Œçš„ä»£ç ï¼Œä½†æ˜¯ä¸€çœ‹ä»£ç ä¾¿çŸ¥æ°´å¹³é«˜ä½ã€‚ä½†æ˜¯è¿™æ ·çš„ Stream ä»£ç ä½ ä¸€å®šä¸€å£è€è°ˆä¸åä¸å¿«ï¼

å…«ã€å°ç¼–å·²é˜µäº¡

å¥½äº†ï¼Œå°ç¼–å®åœ¨æ•´ç†ä¸ä¸‹å»äº†ï¼Œå¤§å®¶æœ‰å…´è¶£çš„å¯ä»¥å»ï¼š

https://gitee.com/oschina/bullshit-codes


æ›´è¿›ä¸€æ­¥çš„åæ§½ï¼

çƒ­é—¨å†…å®¹ï¼š

1ã€ä¸åŒæ—¶é‡å†™equalså’ŒhashCodeåˆä¼šæ€æ ·ï¼Ÿ

2ã€åƒä¸‡ä¸è¦è¿™æ ·ä½¿ç”¨Arrays.asList !

3ã€2019å¹´ç¨‹åºå‘˜é«˜è€ƒçœŸé¢˜æ–°é²œå‡ºç‚‰ï¼çœ‹çœ‹ä½ èƒ½å¾—å‡ åˆ†ï¼

4ã€ä»å¼€æºå°ç™½åˆ° Apache Memberï¼Œæˆ‘çš„æˆé•¿ä¹‹è·¯ï¼

5ã€GitHub äº”ä¸‡æ˜Ÿç™»é¡¶ï¼Œå‘½ä»¤è¡Œçš„è‰ºæœ¯ï¼

6ã€19 ä¸ªå¼ºå¤§ã€æœ‰è¶£ã€å¥½ç©ã€åˆè£…Bçš„ Linux å‘½ä»¤ï¼

7ã€å¦‚ä½•æ­£ç¡®è®¿é—®Redisä¸­çš„æµ·é‡æ•°æ®ï¼ŸæœåŠ¡æ‰ä¸ä¼šæŒ‚æ‰ï¼

8ã€ä¸ºä»€ä¹ˆæœ‰äº›å¤§å…¬å¸æŠ€æœ¯å¼±çˆ†äº†ï¼Ÿ


é˜…è¯» 1.1ä¸‡
 åœ¨çœ‹27

å†™ä¸‹ä½ çš„ç•™è¨€
ç²¾é€‰ç•™è¨€
 17
å´å©·å©·

 ç æ—¶ä¸€æ—¶çˆ½ï¼Œç»´æŠ¤ç«è‘¬åœº
 12
å¯¹æ–¹æ­£åœ¨è¾“å…¥...

 åæœŸæŸ¥è¯¢ä¼˜åŒ–é€Ÿåº¦é‚£ä¸ªçœŸçš„æ˜¯6åˆ°ç‚¸å¤©å‘€
 5
ä¸€ä¸ªå°æµæ°“

 åŒäº‹ä¸€è¯­æƒŠé†’æ¢¦ä¸­äººï¼Œä»£ç åˆ«äººçœ‹ä¸æ‡‚ï¼Œä½ æ‰èƒ½æœ‰é«˜å·¥èµ„ï¼ï¼ï¼
 5
JerryğŸŒ™

 æ²¡æœ‰è§£å†³åŠæ³•çš„è®¨è®ºéƒ½æ˜¯è€æµæ°“ã€‚ã€‚ã€‚
 5
æ¸¡

 æˆ‘åªæ˜¯æ¥çœ‹è¯„è®ºçš„ã€‚çœŸçš„å¾ˆæƒ³åæ§½ï¼Œä½†è¿˜æ˜¯æ†‹å›å»äº†ï¼Œæ˜¯éƒ½æˆ‘è¿™æ ·ä¹ˆï¼Ÿ
 3
æ—¥è½ä¸œå±±ã€‚

 1.8çš„ç‰¹æ€§ä¾æ—§æ²¡æœ‰ç”¨è¿‡ï¼Œçœ‹ä¸æ‡‚å•Šã€‚
 1
ä½œè€…
 è¿™ä¸ªè¦æŠ“ç´§æ—¶é—´å­¦å­¦äº†ï¼Œå†ä¸å­¦å°±è½åäº†/::~
 2
æ¡¥

 èŒæ–°getä¸åˆ°ç¬‘ç‚¹
 2
h

 ç¬¬å…­ä¸ªå¼‚å¸¸æˆ‘è§‰å¾—è¿˜å¯ä»¥ç†è§£ï¼Œå¯ä»¥æœ‰ä¸šåŠ¡éœ€æ±‚å§ï¼Œå¼€æ”¾çš„å‘½ä»¤apiï¼Œæ¥å—å‘½ä»¤ä¸è§„èŒƒï¼Œè°ƒç”¨æ¬¡æ•°åˆå¤šï¼Œå†™å…¨å±€å¼‚å¸¸æ²¡æ¯›ç—…ï¼Œè½¬æ€ç æ˜¯è‹±æ–‡å¯èƒ½æ˜¯æ²¡ç”¨é€šç”¨æ€§æ–‡æ¡£è§„èŒƒï¼Œç›´æ¥ç”¨commandcode_123456ï¼Œå¯¹æ–¹æ›´å®¹æ˜“ç†è§£ã€‚
 2
ã‚«ãƒ‹ã‚¶ã€‚ã€‚ã€‚

 ç æ—¶ä¸€æ—¶çˆ½ï¼Œä¸€ç›´ç ä¸€ç›´çˆ½
 2
Fruit

 å‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µï¼Œç¬‘å¾—çœ¼æ³ªéƒ½å‡ºæ¥äº†
 1
æ—§æ•…é‡Œã€è‰æœ¨æ·±

 lombda è¡¨è¾¾å¼æ»¥ç”¨çš„ï¼Œæœ€æ¶å¿ƒä¸è¿‡äº†ï¼ï¼
 1
é«˜å†·å°±æ˜¯èŒƒå„¿

 è¿™éƒ½ä¸ç®—ä»€ä¹ˆï¼Œå“ªæ¯”å¾—ä¸Šrm -rf *å•Š
 1
å°é±¼å„¿

 lambdaæ›¿æ¢ä¸€äº›ç®€å•çš„è¿­ä»£è¿˜å¥½ï¼Œç®€æ´æ˜äº†ï¼Œç”¨æ¥åšå¤æ‚çš„ä¸šåŠ¡é€»è¾‘çœŸçš„æ˜¯ç æ—¶ä¸€æ—¶çˆ½ï¼Œç»´æŠ¤ä¸¤è¡Œæ³ªï¼
 1
666

 lambdaå°±æ˜¯ä¸ºäº†ä¸€è¡Œå†™å®Œå¤æ‚é€»è¾‘è€Œç”Ÿçš„ï¼Œè¿™ä¹Ÿèƒ½åæ§½ï¼Ÿ
 1
çŒ´å“¥

 éš¾é“åªæœ‰æˆ‘è§‰å¾—æŒºæœ‰æ„æ€çš„å˜›ï¼Ÿ

è¯´æ¥ä½ å¯èƒ½ä¸ä¿¡

 thread.sleep(5000)æœ€ç‰›é€¼äº†ï¼Œå­¦ä¼šäº†ä¸€æ‹›

ç‹çˆµå¾·ã€‚

 å®Œäº†ï¼Œç¬¬ä¸€ä¸ªæ€ç´¢äº†å¾ˆä¹…æ‰ååº”è¿‡æ¥æ§½ç‚¹â€¦

Walker

 1000å—ä¼˜åŒ–ä¸€ä¸‹Thread.sleep

å°˜åŸƒ

 é‡Œé¢æœ‰ä¸€ä¸ªæ’åºç®—æ³•ï¼Œå†™å®ƒçš„äººæ˜¯ä¸€ä¸ªäººé¬¼æ‰

Player 1

 å¼‚å¸¸æ˜¯æŠ¥å­˜äº‹æ•…ç°åœºå †æ ˆçš„ã€‚

Zk

 ç¬¬ä¸€ä¸ªåº”è¯¥æ˜¯è°ƒç”¨ç¨åŠ¡å±€é‡‘ä¸‰æ¥å£çš„ã€‚ã€‚

Hana

 çœ‹å¾—æˆ‘è¡€å‹é«˜
