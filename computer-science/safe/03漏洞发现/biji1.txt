P3

使用Ip扫描比使用域名扫描更好



漏洞攻击的三个层次

网站源码
中间件
数据库
操作系统
IIS可以做许多安全防护措施，比如ip访问设置白名单，设置用户上传文件的目录下的文件没有可执行权限，防止web shell注入。

绕过思路，尝试在web根目录上传文件。



P4

在网上搜索源码

判断网站的CMS类型

肉眼判断
使用favicon.icon文件的MD5字典判断
在线工具网站判断
分析网站源码，白盒方式查看漏洞

通过网络抓包，可以抽取一些关键字，然后将这个关键字输入搜索引擎搜索，可以发现许多使用类似框架开发的网站，都存在漏洞。

简单来说就是搜索特定url-获取其他相符站点-漏洞测试

如何获取源代码

借助特定平台网站或者在咸鱼和淘宝进行搜索获取，注意不要为了利益涉足黑色产业。



获取源码然后就是代码审计





P5

围绕操作系统和数据库的漏洞挖掘

数据库攻击有2个思路

弱口令

漏洞

数据库漏洞比较少，主要靠弱口令

﻿
第05天：基础入门-系统及数据库等 P5 - 11:29
课程大纲介绍
﻿

如何判断目标的操作系统

思路1 windows操作系统不区分大小写 比如替换URL中的字母为大小写 如果访问结果没有区别，说明是windows 反之就是linux

思路2 如果只有一个ip地址 目标没有web服务，可以通过nmap扫描识别 nmap还可以扫描目标开放的端口和服务 nmap -O ipaddr

思路3 通过TTL判断 不是很推荐



动态网站 静态网站

我想到一个不严谨的区分办法，有数据库的基本上是动态网站。

ASP网站的数据库大部分是SQLSERVER或者ACCESS

PHP网站普遍是MYSQL

python-mongodb


open 开放

closed关闭

filtered 被过滤的

可参考

https://nmap.org/man/zh/man-port-scanning-basics.html

大部分都是通过端口扫描判断目标系统安装了哪些服务，比如vsftpd,mysql,redis...

然后根据这些软件的版本漏洞针对性的爆破。

 note:

大部分服务器是承担专用职能 比如专门只提供邮件服务的邮件服务器 nginx服务器 mysql服务器。。。需要针对性的使用策略。



CVE-2012-2122 漏洞

mysql身份验证漏洞



P6 加密算法

80%的管理员密码使用MD5加密

MD5解密是不可逆的，但是可以通过枚举的方式解密。







P10 web漏洞

SQL注入漏洞



目录遍历漏洞

目录扫描

webpathBrute工具

﻿
第11天：WEB漏洞-必懂知识点详解 P10 - 54:30
﻿

危害，导致源码结构泄露

pikachu漏洞平台



文件上传漏洞

上传图片的时候，可以在图片中插入一句话木马。

可以绕过后缀名检测

 


上图中，右侧的漏洞更重要，更有破坏力。

有的漏洞只能给出一些信息，并没有决定性的致命一击的能力 低危漏洞，而有的漏洞则非常致命，可以获得目标的控制权。高危漏洞

所以漏洞的发掘也是需要有所侧重。

﻿
第11天：WEB漏洞-必懂知识点详解 P10 - 01:18:03
文件下载漏洞
﻿

CTF

SRC

红蓝对抗

实战

根据你的目的，知道那些漏洞是需要重点掌握的。





P11 SQL漏洞

属于高危害漏洞

危害，数据库数据泄露 ，权限泄露

 


数值类型注入最简单 都不需要字符类型那样，需要闭合'

简单的防御办法，传入变量需要校验，必须是数字。


4 有可能存在post注入

所以1234都存在注入




sqli-labs 环境

用户的输入都是不可信的

用户输入url参数 导致 sql注入

用户上传文件 可能上传木马

网络下载的东西 可能反序列化后有问题

。。。

程序对外部的输入都需要做谨慎的识别和校验，这是一个基本的思路，是做安全的基本原则。




 判断有没有注入点 


sqlmap工具固然效率很高 不过还是需要了解原理 手工注入现在很少的 要做工具的掌控者 可以改造升级自己的sqlmap而不是仅仅会表面的扫描。



猜测列的数量

order by x

x从1 2 3 4 ...

如果到5报错了 那么说明只有4列

因为没有第五列 所以无法按照第五列排序



version()函数查询数据库版本

database() 数据库名字

user() 用户

@@version_compile_os 操作系统


information_schema.tables

information_schema.columns







P12 mysql注入












P90 安全厂商

甲方 or 乙方

job.freebuf.com

硬件要求 可以知道漏洞原理 挖掘方法

弹性要求 工作年限 学历

加分项目 在圈子里面发表过文章


cookie和session都是凭据
cookie保存在客户端 不是很安全 有可能会被盗取
主要是管理员账户被盗取
session保存在服务器端 安全 主要是大型网站使用 
需要占用服务器存储空间
比如保存在redis里面 超过一段时间自动删除之类的。。
