我的程序员进阶之路

原创 大飞码字  大飞码字  2019-04-24


2012年的时候，我参与了一个项目，我觉得那个项目是我职业生涯的一个转折点。经过那个时间节点后，我在能力，视野，心理上都获得了巨大的成长，也为自己后面的发展奠定了基础。


1


当时产品刚刚站稳了脚，市场总算攻下来了，后台技术上，面临的问题是稳定性和成本。

当时的技术总监找到我和我的leader，说目前的业务发展越来越快，用户增长迅速，业务需求也多，而目前的存储存在三个问题：

一 机器的性能没有充分发挥出来。
二 运维不够自动化。
三 灾备能力不够好。

希望我们能自己研发一个。性能上要有三倍的提升，而且运维便利性和灾备能力要有质的提升。

当时听完，即兴奋又觉得压力山大。

兴奋的是可以大干一场，做个分布式存储，还是很牛B的。但对于老大提出的目标，自己心里没底，不知能不能达标。

之后团队就开始讨论，开始设计了。我们很快有了方案，来回跟技术总监过了几次，大家觉得方案没问题后，就开始搞了。这里，因为没有充足的时间做业务摸索和方案调研，也给后面留下了巨大的坑！

我用了一个月的时间，完成了编码的工作，再用了两个星期进行了各种线下测试。当时以为自己很牛B，上面给的是三个月，自己一个多月就完成了。


2




接下来，才是噩梦的开始。

第一天，线上验证的结果就狠狠地打了一把脸。bug 数量超出想象，而且有各种奇葩的bug。后面又花了两个星期，加固各种测试，修复bug，总用时两个月后，再次上线。


我小心翼翼地采用灰度的方式来进行再次的验证。找了台机器，慢慢放量，经过一个星期的时间，终于在可见范围内没有bug了。


后面又灰度了几台机器，在灰度到一台访问量高的机器的时候，又出问题了。机器的磁盘性能顶不住了，晚上高峰期的时候，又发现网卡流量也撑不住了。


当然慌得一B呀，感觉完蛋了，时间期限也快到了，性能不但没有达标，还比原来的系统差了。


我leader 知晓这个事情后，也一起加进来，想解决的方案。我们又折腾了一周，终于搞清楚了性能问题，也想出了应对的方案。


后面我leader也加入进来，一起编码，一起review代码和测试。历经一个月后，再次上线。


那一个月，是我最难熬的时间。因为已经上线了几台机器，要回退回去，又要折腾好长时间，而且机器还要留着做性能试验。


所以我当时白天要写代码，测试，晚上高峰期又要盯着那一触即崩的系统，周六日也要看着。简直就是精神和体力的双重煎熬。


我记得有一个周六，我同学从深圳过来，吃完饭后，准备去唱K。结果手机突然收到个报警，我只能杀回公司处理 。那时候感觉这简直就是一份非人的工作，有好几次想辞职不干了。


不过当时又想起毕业时，导师说的，离职都不怕了，工作还有什么好怕的。于是就继续干下去了。当然心里就一个念头，要搞定它，都没想什么996了，几乎是7 *24 小时待命。


最后，总用时四个多月，终于发布了第一个稳定，性能达标的版本。


后面这个存储系统随着业的扩大，不断升级改进，最终整个部门几乎百分之九十五的业务，都使用了这套存储系统。


虽然我最后离开了存储团队，但那段经历让我记忆犹新。现在回过头来看，有几点感悟


没有规范的流程，只有先抗住再优化


规范的软件开发流程，在高速发展的互联网产品部门似乎并不存在。

回想起当时的团队，整体开发团队好像不超过40人，而且有大量的业务需求。

在当时要找个专家评审团，评审一番，再做个业务调研，做个详细架构的设计，再来排期，一步一步的实施，按正常流程下来，估计要耗费一年以上的时间，等到那个时候，业务都已经凉凉了。

事实证明，在当时的业务快速发展，人力资源受限的情况下，先搞上去顶住，再慢慢地做优化是对的，虽然不符合传统的软件开发流程。


业务访问模式和存储模型的匹配


这个感悟跟技术强相关。当时接到这个存储系统的任务的时候，对存储模型的理解，只停留在mysql B+树的层面。

直到后面，才深刻的理解到，存储模型的设计是跟业务访问模式强相关的。而业务访问模式的理解，来自对业务的深刻理解和对众多子业务的归总和抽象，还有一个是对未来业务发展的预判。

第一点需要对已有的业务系统做深入的调研和探讨，第二点对未来的预判，需要敏锐的业务洞察力和技术预判能力。

所以，业务跟技术不分家，是相辅相成的。


互联网技术有很多都是倒逼出来的


当时的第一个版本，你可以认为是摆不上台面的东西，只是经过各种的折腾，它终于慢慢跑了起来。

一开始的时候，它只用在了一个业务系统上面。但因为当时的性能在我们特定的业务场景下已经超过了mysql的性能，而且灾备能力也优于mysql，系统的口碑在团队内部就慢慢传开了。

一方面，我们不断地在内部兜售我们的系统，希望业务接入，另一方面，业务团队也不断的给我们提出新的需求和挑战。

虽然整个团队的人员一直都不多，最高峰时候，好像也不到20人，经过几年的发展，经过各种业务不断的锤炼，优化，系统却慢慢牛B了起来。

去年的时候，基于这个系统写了一个paper, 还被顶级的存储会议 VLDB  收录。

虽然我那时候已经离开了存储团队，去了业务部门。不过我也感慨，当年那一坨仅仅可以跑起来的代码，如今竟成长为如此优异的一个系统，我内心也是倍感欣慰。

仔细地想想，也因为有了这个伟大的产品，才倒逼出了这个优异的系统和优秀的技术。


能力，视野，心理素质


完成那一次艰难的任务后，我并没有马上被升职，被加薪。我还是一如往常地做着个小兵，写着我的代码。

但我明显地感觉到，我的技术深度，技术视野和心理素质有了一个质的变化。

在技术深度上。我在跟其他业务同事探讨技术方案的时候，我有时候会惊讶，“这个不是很简单吗？”，“这个不是常识吗？”，有一段时候，我有点困惑，怎么他们连这个也不懂。

后面我才意识到不是这些东西简单，而是因为自己一直在思考这些问题，权衡各种方案，在自己的脑海里，很多东西已经变成了一种“常识”，一种自然的逻辑。而有些同事，他没有做过基础架构的事情，所以他并不清楚。

在技术广度上，我看很多其他的系统设计，似乎可以一眼看透了。跟负责人聊聊他的业务痛点，自己脑子里就自然出现了最合适的方案。

因为发现无论业务怎么变化，在后台架构领域，业务会遇到的问题基本都是差不多的，虽然表现形态不同，但本质其实一样。你深入理解了本质，很多设计工作，其实就是在权衡成本和收益，剩下的就是体力活了。我相信这点在其他的技术领域也是相同的。

在心里层面，我觉得那次的成长非常巨大，好像经历那次之后，自己心理上再也没有遇到更加难熬的时候。后面的工作任务中，其实也有很难的工作，但自己好像有了一种发自内心的自信，会有压力和紧张，但心里有底气，一定可以搞出来，只是时间问题。我觉得这种技术自信，也源自于那一次的历练。


结语


那是一次职业技能和心理素质双重考验和带来成长的一个经历。那个时期过后，我对技术工作突然有了很大的信心，感觉困难都是可以解决的，而且心理素质，抗压能力都获得了巨的的提升。


到现在，我也依然很感激那次的经历给我带来的成长。突然想起了一个兔子拔萝卜的图片，当你觉得最艰难的时候，也可能是收获最大的时候。为处于困难，处于压力中的同学们共勉！





推荐阅读：
我的一个抉择
我的程序员蜕变之路
这几种思维模式，都是你的职业发展的绊脚石
我的程序员入门之路
信息大爆炸时代，错误的学习方式，正在悄悄毁掉你！
不懂算法，还想进大厂？做梦吧




你好，我是大飞。十年互联网人，资深架构师，技术leader。
如果你喜欢我的文章，就给公众号加个星标吧，方便阅读。







大飞码字
金额不重要，心意才重要！
喜欢作者
49 人喜欢

阅读 5556
 在看103

写下你的留言
精选留言
 10
梁勇

 太高产了！！
 1
作者
 谢谢大佬支持
 9
pizza

 后面能分享一些解决问题的思路吗。比如遇到一个问题，你是从哪些方面考虑来置定方案的
 8
作者
 好的，我记下这个主题，后面写下
 6
turbobin

 大飞哥说的没错，如果觉得一段时期过的艰难，得到的收获也是巨大的。最近每天都在准备面试，压力特别大，昨天终于收获了一家各方面都比较满意的offer

作者
 恭喜你
 5
one_zheng

 正印证了那句话：做自己觉得难做的事情就对了

作者
 是的
 4
A

 点广告，进去多看几秒，大飞哥多勤奋。给我点赞让更多人看到。
 1
作者
 支持你，哈哈

李大巴掌

 羡慕又佩服。不过说实在的，事先准备好可以大大减少不必要的bug的。
 4
作者
 那个时候时间很紧，而且一开始做，没有这方面的经验
 2
Aside

 勇敢跳出舒适区
 1
作者
 1
孟飞🌱

 能不能专门讲一下“trade off” 的想法和实践？
 1
作者
 我思考下这个问题，后面看看能不能写篇
 1
locke.wei

 飞哥分享的心路历程都是扎实的干货

作者
 谢谢支持
 1
耿老的竹林

 作为一个技术人，看过之后犹如自己做了这个项目一样，能感受到那种兴奋，满足和自信，希望自己也能真正经历这种过程。
 1
MasterSong

 想说很多，又不知从何说起。虽然技术远不如卿，还是要与君共勉

作者

SwordGuan

 求分享paper
 1
作者
 http://www.vldb.org/pvldb/vol10/p1730-lin.pdf
 1
cassandra

 为什么我感觉责任制比按技术种分工，要做到很好，自己就是这样成长起来的，一切源头有一个愿意让你造轮子的leader,刚开始确实怕怕的，上线信心满满，1个小时就各种bug满天飞
 1
新房客

 其实不只是工作 生活中也是一样 总有那么一段日子 非常难熬 一起加油！

作者
 加油
 1
刘大明

 今天正好遇到了一个以前没有接触过，有点复杂的功能，就看到了大飞哥的文章，内心倍受鼓舞。

作者
 1
蓝色星空下

 写的不错，加油大飞哥

作者
 谢谢

lionfly

 飞哥，牛逼，确实是在不断的解决问题和挑战很难的问题才能提升自己
 1
作者
 是的
 1
ZDD

 感谢飞哥的分享.希望自己以后也有机会做出真正有价值的东西.

作者
 1
cc

 攻克难关，就是自己去逼自己。(这次留言能前100了)

作者
 1
刘哈哈

 正在看《腾讯传》，看到一句：创新都是被逼出来的。

作者
 是的，感觉互联网很多的东西都是倒逼出来的

一颗菜

 我有时候会惊讶，“这个不是很简单吗？”，“这个不是常识吗？”，有一段时候，我有点困惑，怎么他们连这个也不懂

Stephen

 明天转载

作者

啊！汤

 没太看懂这个挑战是啥？是一个类似于mysql的数据库存储系统吗？？大飞哥

作者
 分布式的NoSQL 存储

smile

 膜拜大佬

清风徐来

 飞哥，好友位还有吗？

清风徐来

 第一次关注，干货很多

drea

 感谢大飞的文章，让我受益匪浅，在这里找到了自己未思考到的层面

作者

暮雨

 最艰难的时候，可能是收获最大的时候太对了

Frankie

 飞哥高飞

一天八杯水

 不知道说什么，赞赏一下  加油飞哥

张南南

 飞哥的主流语言是什么，C语言吗？

作者
 是

Alex

 飞哥，牛逼~

阿罗

 深度思考，带来真正的进步

米龙@程序员

 我决定先做测试现在这个行业站住脚哒

谭小谭

 飞哥的文字很朴实

作者

leojj

 吃的苦中苦，方为人上人，成长的道路从来都是一道道难关过来，一起加油！成长为心中的样子！

作者

Mamihlapinatapai

 飞哥真高产

FF

 paper 的关键字有吗？下载来学习下

作者
 http://www.vldb.org/pvldb/vol10/p1730-lin.pdf

xiazichao

 优秀是一种习惯

作者

😁韩少帅😄

 对技术方案的权衡，恰恰是一个人技术素养的集中体现，难难难

作者
 是的

鸡毛掸子

 按这个速度 估计不用等到明年 就能拿上飞哥的书了 小期待

作者
 哈哈

This is water

 最近有点累哈哈哈

作者
 哈哈哈

大辉

 最近接到一个需求，要从淘宝订单截图中，识别出图中的订单商品等信息，调研了几家ai公司的服务，发现目前的基础服务无法达到目的，现在在想其他的方法，慌得一批。

作者
 加油

张和祥

 这几天把您的文章都看了一下，学习到很多。准备好好消化。

作者

Wuyang

 跳出舒适区，迎难而上，很强

作者

闵强 MinQiang

 羡慕 哈哈哈

作者

小透明

 后台架构的通用性强，对技术人员是好事儿啊，跳槽面比较广

作者
 是的

F5

 干就对了！

作者

爱民谣不爱摇滚

 偷偷的将这个兔子图偷走

作者

小强

 牛逼，能有境遇做这些 也很不错，希望提升自己

作者

林中水滴

 正处在打熬期，希望蜕变

作者
 加油

黄鹏飞

 厉害，大飞

作者

Ace

 谢谢分享，很有收获

作者

jannahuang

 迎难而上，会有意想不到的收获，谢谢大飞哥鼓励

【杰、】

 飞哥那个时候你们从开发到运维都要包揽来做吗？

作者
 差不多，因为各种运维工具也是后面才开发的

X&Y

 兔子拔萝卜

作者

徐小白

 有几次就是这种感觉，挺过来了，回头看，真的是成长很多，果然都是逼出来了，哈哈哈

作者
 都是赶鸭子上架的

-101

 做那个项目具体心得，体悟呢，更感兴趣

作者
 后面考虑写写

Jonathan Livingston ོོ

 大飞哥  牛批！(撕裂音)

作者

无霾

 这样切身的分享很赞，细细品味起来，很有启发

作者

张凯

 关注大飞哥一段时间了，第一次打赏，为您持续输出优质文章打call

作者
 谢谢支持

子杨

 飞哥做的是数据库存储系统吗？

作者
 分布式NoSQL存储
