
文件上传漏洞是指由于程序员在对用户文件上传部分的控制不足或者处理缺陷，而导致的用户可以越过其本身权限向[服务器](https://cloud.tencent.com/act/pro/promotion-cvm?from_column=20065&from=20065)上上传可执行的动态脚本文件。这里上传的文件可以是木马，病毒，恶意脚本或者WebShell等。这种攻击方式是最为直接和有效的，“文件上传”本身没有问题，有问题的是文件上传后，服务器怎么处理、解释文件。如果服务器的处理逻辑做的不够安全，则会导致严重的后果。

文件上传漏洞本身就是一个危害巨大的漏洞，WebShell更是将这种漏洞的利用无限扩大。**大多数的上传漏洞被利用后攻击者都会留下WebShell以方便后续进入系统。**攻击者在受影响系统放置或者插入WebShell后，可通过该WebShell更轻松，更隐蔽的在服务中为所欲为。



## 是什么

在文件上传的功能处，若服务端脚本语言未对上传的文件进行严格验证和过滤，导致恶意用户上传恶意的脚本文件时，就有可能获取执行服务端命令的能力，这就是文件上传漏洞。

文件上传漏洞对Web应用来说是一种非常严重的漏洞。一般情况下，Web应用都会允许用户上传一些文件，如头像、附件等信息，如果Web应用没有对用户上传的文件进行有效的检查过滤，那么恶意用户就会上传一句话木马等Webshell，从而达到控制Web网站的目的。



## 文件上传漏洞高危触发点

存在文件上传功能的地方都有可能存在文件上传漏洞，比如**相册**、**头像上传**，视频、照片分享。论坛发帖和邮箱等可以**上传附件**的地方也是上传漏阔的高危地带，另外像文件管理器这样的功能也有可能被攻击者所利用。



## 后续

当黑客上传一句话木马，或者图片木马之后，还需要能够访问这个上传的文件，才能触发木马的执行。如

果服务器不执行这个木马，或者黑客访问不到这个木马，木马最终没有执行，估计也不行。




## 其他

upload-labs靶场通关（文件上传漏洞靶场）
https://blog.csdn.net/aaron_miller/article/details/106143006

