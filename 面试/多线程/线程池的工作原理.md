
当有任务来了之后，线程池的执行流程是这样的：

1. 先判断当前线程数是否大于核心线程数，如果结果为 false，则新建线程并执行任务。
2. 如果大于核心线程数，则判断任务队列是否已满，如果结果为 false，则把任务添加到任务队列中等待线程执行。
3. 如果任务队列已满，则判断当前线程数量是否超过最大线程数，如果结果为 false，则新建线程执行此任务。
4. 如果超过最大线程数，则将执行线程池的拒绝策略。


![[Pasted image 20240403090032.png]]


为什么先放队列,队列满了之后再创建新的最大线程呢?

因为这样是为了避免创建新的线程,因为创建线程的开销是比较大的.

能复用就尽量复用.

