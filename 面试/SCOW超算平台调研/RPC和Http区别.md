
#### RPC接口和HTTP接口的区别与联系

**RPC接口**即相当于调用本地接口一样调用远程服务的接口；**HTTP接口**是基于http协议的post接口和get接口（等等，2.0版本协议子支持更多）。

##### 传输协议

- RPC：可以基于TCP协议，也可以基于HTTP协议。
- HTTP：基于HTTP协议。

##### 传输效率

- RPC：使用自定义的TCP协议，可以让请求报文体积更小，或者使用HTTP2.0协议，也可以很好地减少报文体积，提高传输效率。
- HTTP：如果时基于HTTP1.1的协议，请求中会包含很多无用的内容；如果是基于HTTP2.0，那么简单地封装一下还是可以作为一个RPC使用的，这时标准RPC框架更多是服务治理。

##### 性能消耗

- RPC：可以基于thrift实现高效的二进制传输
- HTTP：大部分是通过json实现的，字节大小和序列化耗时都比thrift要更消耗性能




##### RPC和HTTP都可以用于实现远程过程调用，如何选择

- 从**速度**上看，RPC比HTTP更快，虽然底层都是TCP，但是http协议的信息往往比较臃肿，不过可以采用gzip压缩
- 从**难度**上看，RPC实现较为复杂，http相对简单
- 从**灵活性**上看，HTTP更胜一筹，因为它不关心实现细节，跨平台，跨语言


两者有不同的使用场景：

- 如果对**效率**要求更高，并且开发过程使用**统一的技术栈**，那么RPC还是不错的
- 如果需要更加**灵活**，**跨语言**、**跨平台**，显然HTTP更合适





##### 流行的RPC框架

> 目前流行的RPC框架有很多，下面介绍常见的三种。

1. `gRPC`：gRPC是Google公布的开源项目，基于HTTP2.0协议，并支持常见的众多编程语言。HTTP 2.0协议是基于二进制的HTTP协议的升级版本，gRPC底层使用了Netty框架。
2. `Thrift`：Thrift是Facebook的一个开源项目，主要是一个跨语言的服务开发框架。它有一个代码生成器来对它所定义的IDL文件自动生成服务代码框架。Thrift对于底层的RPC通讯都是透明的，用户只需要对其进行二次开发即可，省去了一系列重复的前置基础开发工作。
3. `Dubbo`：Dubbo是阿里集团开源的一个极为出名的RPC框架，在很多互联网公司和企业应用中广泛使用。协议和序列化框架都可以插拔是及其鲜明的特色。